<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JellyJump - Embed</title><link rel="icon" href="assets/icons/jelly_jump_logo.png"><link rel="stylesheet" href="assets/css/theme.css"><link rel="stylesheet" href="assets/css/common.css"><link rel="stylesheet" href="assets/css/player.css"><style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background:#000}.embed-container{width:100%;height:100%}.jellyjump-help-overlay{display:none!important}.embed-error{display:flex;align-items:center;justify-content:center;height:100%;color:#fff;font-family:system-ui,sans-serif;text-align:center;padding:20px}.embed-error h2{margin:0 0 10px;font-size:1.2rem}.embed-error p{margin:0;opacity:.7;font-size:.9rem}</style></head><body><div class="embed-container" id="player-container"></div><script type="importmap">{
        "imports": {
            "/npm/mediabunny@1.27.0/+esm": "./assets/js/lib/mediabunny.js"
        }
    }</script><script type="module">async function initEmbed(){const e=new URLSearchParams(window.location.search),o=e.get("video_url"),n=e.get("controls"),t="0"!==e.get("autoplay"),r="1"===e.get("muted");if(!o)return void showError("Missing video_url","Add ?video_url=YOUR_VIDEO_URL to the embed URL.");const a=n?n.split(",").map(e=>e.trim().toLowerCase()):["play","pause","fullscreen","progress","time","volume"],d={controlBar:!0,playPause:a.includes("play")||a.includes("pause"),navigation:!1,volume:a.includes("volume"),time:a.includes("time"),progress:a.includes("progress"),fullscreen:a.includes("fullscreen"),speed:a.includes("speed"),captions:!1,settings:!1,loop:!1,filters:!1,equalizer:!1,modeToggle:!1,keyboard:!0};try{const e=await fetch("assets/templates/player-templates.html"),n=await e.text(),a=document.createElement("div");a.style.display="none",a.innerHTML=n,document.body.appendChild(a);const{CorePlayer:i}=await import("./assets/js/core/Player.js"),l=window.player=new i("player-container",{autoplay:t,muted:r,mode:"embed",controlBarMode:"overlay",controls:d}),s=decodeURIComponent(o);await l.load(s,t)}catch(e){console.error("[Embed] Init error:",e),showError("Failed to load player",e.message)}}function showError(e,o){document.getElementById("player-container").innerHTML=`\n                <div class="embed-error">\n                    <div>\n                        <h2>${e}</h2>\n                        <p>${o}</p>\n                    </div>\n                </div>\n            `}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initEmbed):initEmbed(),window.addEventListener("beforeunload",()=>{window.player&&"function"==typeof window.player.destroy&&(window.player.destroy(),window.player=null)})</script></body></html>