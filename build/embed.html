<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JellyJump - Embed</title><link rel="icon" href="assets/icons/jelly_jump_logo.png"><link rel="stylesheet" href="assets/css/theme.css"><link rel="stylesheet" href="assets/css/common.css"><link rel="stylesheet" href="assets/css/player.css"><link rel="stylesheet" href="assets/css/screenshot.css"><style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background:#000}.embed-container{width:100%;height:100%}.jellyjump-help-overlay{display:none!important}.embed-error{display:flex;align-items:center;justify-content:center;height:100%;color:#fff;font-family:system-ui,sans-serif;text-align:center;padding:20px}.embed-error h2{margin:0 0 10px;font-size:1.2rem}.embed-error p{margin:0;opacity:.7;font-size:.9rem}</style></head><body><div class="embed-container" id="player-container"></div><a id="mb-download-link" style="display:none"></a><script type="importmap">{
        "imports": {
            "/npm/mediabunny@1.27.0/+esm": "./assets/js/lib/mediabunny.js"
        }
    }</script><script type="module">async function initEmbed(){const e=new URLSearchParams(window.location.search),t=e.get("video_url"),o=e.get("controls"),n="0"!==e.get("autoplay"),r="1"===e.get("muted"),s="true"===e.get("credentials"),a=e.get("controlBarMode")||"fixed";if(!t)return void showError("Missing video_url","Add ?video_url=YOUR_VIDEO_URL to the embed URL.");const l=["play","pause","fullscreen","progress","time","volume","screenshot"];let d=[],i=!1;"none"===o?(i=!0,d=["play","pause"]):d=o?o.split(",").map(e=>e.trim().toLowerCase()):l;const c={controlBar:!i,playPause:d.includes("play")||d.includes("pause"),navigation:!1,volume:!i&&d.includes("volume"),time:!i&&d.includes("time"),progress:!i&&d.includes("progress"),fullscreen:!i&&d.includes("fullscreen"),speed:!i&&d.includes("speed"),settings:!i&&d.includes("screenshot"),captions:!1,loop:!1,filters:!1,equalizer:!i&&d.includes("volume"),volumeOnly:!0,modeToggle:!1,keyboard:!0};try{const[e,o]=await Promise.all([fetch("assets/templates/player-templates.html"),fetch("assets/templates/screenshot-templates.html")]),l=await e.text(),d=await o.text(),i=document.createElement("div");i.style.display="none",i.innerHTML=l+d,document.body.appendChild(i);const{CorePlayer:u}=await import("./assets/js/core/Player.js"),m=window.player=new u("player-container",{autoplay:n,muted:r,mode:"embed",controlBarMode:a,withCredentials:s,controls:c}),p=decodeURIComponent(t);await m.load(p,n)}catch(e){console.error("[Embed] Init error:",e),showError("Failed to load player",e.message)}}function showError(e,t){document.getElementById("player-container").innerHTML=`\n                <div class="embed-error">\n                    <div>\n                        <h2>${e}</h2>\n                        <p>${t}</p>\n                    </div>\n                </div>\n            `}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initEmbed):initEmbed(),window.addEventListener("beforeunload",()=>{window.player&&"function"==typeof window.player.destroy&&(window.player.destroy(),window.player=null)})</script></body></html>