.player-layout{display:grid;grid-template-columns:1fr auto;height:100vh;width:100vw;overflow:hidden}.video-section{background-color:#000;border-right:2px solid var(--accent-primary);position:relative;display:flex;justify-content:center;align-items:center}.video-section:fullscreen{border:none!important;border-right:none!important;outline:0!important}.video-section:-webkit-full-screen{border:none!important;border-right:none!important;outline:0!important}.video-section:-moz-full-screen{border:none!important;border-right:none!important;outline:0!important}.video-section:-ms-fullscreen{border:none!important;border-right:none!important;outline:0!important}.video-section.fullscreen-fallback{border:none!important;border-right:none!important;outline:0!important}.playlist-section{background-color:var(--bg-secondary);display:flex;flex-direction:column;height:100%;overflow:visible;position:relative;transition:width .3s cubic-bezier(.4, 0, .2, 1),min-width .3s cubic-bezier(.4, 0, .2, 1);width:30vw;max-width:30vw;min-width:350px;flex-shrink:0;contain:layout style}.playlist-section.collapsed{width:0;min-width:0;overflow:visible!important}.playlist-section.collapsed .playlist-header{display:block!important;overflow:visible;width:auto;height:auto;padding:0;border:none;background:0 0}.playlist-section.collapsed .playlist-header-top{width:auto}.playlist-section.collapsed .playlist-controls,.playlist-section.collapsed .playlist-title-text{display:none}.playlist-section.collapsed .playlist-content{display:none}.playlist-section.collapsed .sidebar-collapse-btn{display:block!important;position:fixed;top:var(--space-md);right:20px;transform:none;z-index:100;background-color:var(--bg-primary);border:2px solid var(--accent-primary);box-shadow:0 2px 8px rgba(0,0,0,.3);padding:var(--space-sm) var(--space-sm);margin:0}.playlist-header{padding:var(--space-md);border-bottom:2px solid var(--border-color);background-color:var(--bg-primary)}.playlist-header-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-sm)}.playlist-title-text{font-weight:700;font-size:1.1rem}.sidebar-collapse-btn{background:0 0;border:2px solid var(--border-color);color:var(--text-primary);cursor:pointer;padding:4px 8px;font-size:1.2rem;line-height:1;transition:all .2s ease;border-radius:2px;position:relative}.sidebar-collapse-btn:hover{background-color:rgba(var(--accent-primary-rgb),.1);border-color:var(--accent-primary);color:var(--accent-primary)}.sidebar-collapse-btn:focus-visible{outline:2px solid var(--accent-primary);outline-offset:2px}.playlist-controls{display:flex;gap:var(--space-xs)}.playlist-content{flex:1;overflow-y:auto;padding:var(--space-md);position:relative;contain:strict}.playlist-section.drag-over{border:2px dashed var(--accent-primary);background-color:rgba(var(--accent-primary-rgb),.05)}.playlist-placeholder{color:var(--text-secondary);text-align:center;margin-top:var(--space-xl);font-family:var(--font-mono)}.playlist-overlay{display:none}#playlist-toggle{display:none}@media (max-width:768px){.player-layout{grid-template-columns:1fr;grid-template-rows:auto 1fr;height:100vh;overflow:hidden;position:relative}.video-section{height:56.25vw;border-right:none;border-bottom:2px solid var(--accent-primary);background:#000;transition:height .3s ease}.video-section.mode-fixed{height:100vh;border-bottom:none}.playlist-section{position:relative;width:100%!important;min-width:100%!important;height:100%;background-color:var(--bg-secondary);border-top:2px solid var(--accent-primary);display:flex;flex-direction:column;overflow-y:auto;transition:transform .3s cubic-bezier(.4, 0, .2, 1)!important}.playlist-section.collapsed{width:100%!important;height:100%!important;transform:translateY(100%)!important;overflow:hidden!important;transition:transform .3s cubic-bezier(.4, 0, .2, 1)!important}.sidebar-collapse-btn{display:none!important}.playlist-section.collapsed .sidebar-collapse-btn{display:none!important}.mobile-expand-button{position:fixed;bottom:20px;right:20px;z-index:9999;background-color:var(--bg-primary);border:3px solid var(--accent-primary);box-shadow:0 4px 12px rgba(0,0,0,.5);padding:12px 16px;font-size:1.5rem;cursor:pointer;border-radius:4px;color:var(--text-primary);line-height:1;transition:all .2s ease}.mobile-expand-button:hover{background-color:rgba(var(--accent-primary-rgb),.1);transform:scale(1.1)}.mobile-expand-button:focus{outline:2px solid var(--accent-primary);outline-offset:2px}.playlist-section.collapsed .playlist-header{background:0 0!important;border:none!important;padding:0!important}.playlist-section.collapsed .playlist-controls,.playlist-section.collapsed .playlist-title-text{display:none!important}.playlist-overlay{display:block;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:150;opacity:0;pointer-events:none;transition:opacity .3s ease}.playlist-overlay.visible{opacity:1;pointer-events:auto}}.playlist-item{display:flex;align-items:center;padding:var(--space-sm);border-bottom:1px solid var(--border-color);cursor:pointer;transition:background-color .2s ease}.playlist-item:hover{background-color:rgba(255,255,255,.05)}.playlist-item.active{background-color:rgba(var(--accent-primary-rgb),.1);border-left:4px solid var(--accent-primary)}.playlist-duration{display:none}.playlist-thumbnail{width:80px;height:45px;background-color:#333;margin-right:var(--space-sm);flex-shrink:0;overflow:hidden;display:flex;justify-content:center;align-items:center;position:relative}.playlist-thumbnail img{width:100%;height:100%;object-fit:cover}.playlist-thumbnail-overlay{position:absolute;bottom:2px;right:2px;background-color:rgba(0,0,0,.7);color:#fff;font-size:.65rem;padding:1px 3px;border-radius:2px;font-family:var(--font-mono);line-height:1;pointer-events:none}.playlist-info{flex:1;min-width:0}.playlist-title{font-weight:500;font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px;max-width:100%;display:block}.playlist-remove-btn{background:0 0;border:none;color:var(--text-secondary);cursor:pointer;padding:4px;opacity:0;transition:opacity .2s ease,color .2s ease;display:flex;align-items:center;justify-content:center}.playlist-item:hover .playlist-remove-btn{opacity:1}.playlist-remove-btn:hover{color:var(--error-color,#f44)}.playlist-actions{display:flex;gap:4px;align-items:center}.playlist-download-btn{background:0 0;border:none;color:var(--text-secondary);cursor:pointer;padding:4px;opacity:0;transition:opacity .2s ease,color .2s ease;display:flex;align-items:center;justify-content:center}.playlist-item:hover .playlist-download-btn{opacity:1}.playlist-download-btn:hover{color:var(--accent-primary)}.merge-grid-container{display:grid;grid-template-columns:1fr 1fr;gap:1rem;max-height:300px;margin-bottom:1.5rem}.available-section,.selected-section{display:flex;flex-direction:column;height:250px;min-width:0;background-color:rgba(0,0,0,.2);border-radius:8px;padding:.75rem;border:1px solid var(--border-color)}.available-section{border-color:rgba(var(--accent-primary-rgb),.3)}.selected-section{border-color:var(--accent-primary);background-color:rgba(var(--accent-primary-rgb),.05)}.section-header{padding-bottom:.5rem;margin-bottom:.5rem;border-bottom:2px solid var(--border-color);flex-shrink:0;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.available-section .section-header{border-bottom-color:rgba(var(--accent-primary-rgb),.4)}.selected-section .section-header{border-bottom-color:var(--accent-primary);color:var(--accent-primary)}.scroll-list{margin-top:0;overflow-y:auto;overflow-x:hidden;min-height:0;flex:1;padding:4px}.scroll-list::-webkit-scrollbar{width:6px}.scroll-list::-webkit-scrollbar-track{background:rgba(0,0,0,.2);border-radius:3px}.scroll-list::-webkit-scrollbar-thumb{background:var(--accent-primary);border-radius:3px}.scroll-list::-webkit-scrollbar-thumb:hover{background:rgba(var(--accent-primary-rgb),.8)}.merge-item{display:flex;align-items:center;gap:.5rem;padding:.5rem;margin-bottom:.5rem;background-color:var(--bg-tertiary);border:2px solid var(--border-color);border-radius:6px;cursor:grab;transition:all .2s ease;user-select:none;position:relative}.merge-item:active{cursor:grabbing}.merge-item:last-child{margin-bottom:0}.merge-item:hover{background-color:rgba(var(--accent-primary-rgb),.08);border-color:var(--accent-primary);transform:translateX(2px);box-shadow:-3px 0 0 0 var(--accent-primary)}.available-list .merge-item.bg-primary{background-color:rgba(var(--accent-primary-rgb),.15);border-color:var(--accent-primary);border-width:2px}.available-list .merge-item.bg-primary::before{content:'âœ“';position:absolute;left:-8px;top:50%;transform:translateY(-50%);width:20px;height:20px;background-color:var(--accent-primary);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;box-shadow:0 2px 4px rgba(0,0,0,.3)}.available-list .merge-item.bg-primary:hover{background-color:rgba(var(--accent-primary-rgb),.2);transform:translateX(2px)}.selected-list .merge-item{padding-left:2.5rem}.selected-list .merge-item::before{content:attr(data-order);position:absolute;left:.5rem;top:50%;transform:translateY(-50%);width:24px;height:24px;background-color:var(--accent-primary);color:#fff;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;box-shadow:0 2px 4px rgba(0,0,0,.2)}.selected-list .merge-item:hover{background-color:rgba(255,255,255,.05)}.item-thumb{flex-shrink:0;border:1px solid var(--border-color)}.merge-item__info{min-width:0;overflow:hidden;flex:1}.merge-item__title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:500;margin-bottom:2px}.item-meta{font-size:.7rem}.merge-item__remove{flex-shrink:0;cursor:pointer;color:var(--text-secondary);font-size:1.3rem;line-height:1;padding:0 4px;transition:all .2s ease;opacity:.6}.merge-item:hover .merge-item__remove{opacity:1}.merge-item__remove:hover{color:var(--error-color,#f44);transform:scale(1.2)}.empty-selection-state,.empty-state{padding:2rem 1rem;text-align:center;color:var(--text-secondary);font-style:italic}.merge-item.opacity-50{opacity:.4}.merge-item.border-primary{border-color:var(--accent-primary);box-shadow:0 0 0 3px rgba(var(--accent-primary-rgb),.3)}.info-value{word-break:break-all}@media (prefers-reduced-motion:reduce){.playlist-section{transition:none}.sidebar-collapse-btn{transition:none}}