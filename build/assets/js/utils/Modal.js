export class Modal{static _isOpen=!1;static confirm({title:e="Confirm",message:t="",confirmText:n="OK",cancelText:s="Cancel",confirmStyle:a="primary",icon:c="⚠️"}={}){return this._isOpen?(console.log("Modal already open, skipping"),Promise.resolve(!1)):(this._isOpen=!0,new Promise(o=>{const l=this._createOverlay(),d=this._createModal(),i=document.createElement("h2");i.className="modal__title",i.style.setProperty("--modal-icon",`"${c}"`),i.innerHTML=`<span class="modal__icon">${c}</span> ${this._escapeHtml(e)}`;const m=document.createElement("p");m.className="modal__message",m.textContent=t;const r=document.createElement("div");r.className="modal__actions";const p=document.createElement("button");p.className="modal-btn modal-btn--secondary",p.textContent=s,p.onclick=()=>{this._close(l),o(!1)};const _=document.createElement("button");_.className=`modal-btn modal-btn--${a}`,_.textContent=n,_.onclick=()=>{this._close(l),o(!0)},r.appendChild(p),r.appendChild(_),d.appendChild(i),d.appendChild(m),d.appendChild(r),l.appendChild(d),document.body.appendChild(l);let u=null;const h=()=>{u&&document.removeEventListener("keydown",u)};setTimeout(()=>{_.focus(),u=e=>{"Escape"===e.key&&(h(),this._close(l),o(!1))},document.addEventListener("keydown",u),l.addEventListener("click",e=>{e.target===l&&(h(),this._close(l),o(!1))}),p.onclick=()=>{h(),this._close(l),o(!1)},_.onclick=()=>{h(),this._close(l),o(!0)}},50)}))}static alert({title:e="Alert",message:t="",buttonText:n="OK",buttonStyle:s="primary",icon:a="ℹ️"}={}){return new Promise(c=>{const o=this._createOverlay(),l=this._createModal(),d=document.createElement("h2");d.className="modal__title",d.innerHTML=`<span class="modal__icon">${a}</span> ${this._escapeHtml(e)}`;const i=document.createElement("p");i.className="modal__message",i.textContent=t;const m=document.createElement("div");m.className="modal__actions";const r=document.createElement("button");r.className=`modal-btn modal-btn--${s}`,r.textContent=n,r.onclick=()=>{this._close(o),c()},m.appendChild(r),l.appendChild(d),l.appendChild(i),l.appendChild(m),o.appendChild(l),document.body.appendChild(o),r.focus();const p=e=>{"Escape"===e.key&&(this._close(o),document.removeEventListener("keydown",p),c())};document.addEventListener("keydown",p)})}static _createOverlay(){const e=document.createElement("div");return e.className="modal-overlay",e}static _createModal(){const e=document.createElement("div");return e.className="modal",e}static _close(e){e.classList.add("closing"),setTimeout(()=>{e.remove(),this._isOpen=!1},200)}static _escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}}