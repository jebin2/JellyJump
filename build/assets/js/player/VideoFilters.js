export class VideoFilters{constructor(t){this.canvas=t,this.brightness=100,this.contrast=100,this.saturation=100,this.sepia=0,this.grayscale=0,this.hueRotate=0,this.presets={reset:{brightness:100,contrast:100,saturation:100,sepia:0,grayscale:0,hueRotate:0},night:{brightness:80,contrast:110,saturation:80,sepia:20,grayscale:0,hueRotate:0},vivid:{brightness:105,contrast:120,saturation:140,sepia:0,grayscale:0,hueRotate:0},grayscale:{brightness:100,contrast:100,saturation:0,sepia:0,grayscale:100,hueRotate:0},sepia:{brightness:100,contrast:100,saturation:100,sepia:100,grayscale:0,hueRotate:0},cool:{brightness:100,contrast:105,saturation:110,sepia:0,grayscale:0,hueRotate:180},warm:{brightness:105,contrast:105,saturation:110,sepia:15,grayscale:0,hueRotate:0}}}setBrightness(t){this.brightness=Math.max(0,Math.min(200,t)),this._apply()}setContrast(t){this.contrast=Math.max(0,Math.min(200,t)),this._apply()}setSaturation(t){this.saturation=Math.max(0,Math.min(200,t)),this._apply()}applyPreset(t){const s=this.presets[t];s&&(this.brightness=s.brightness,this.contrast=s.contrast,this.saturation=s.saturation,this.sepia=s.sepia,this.grayscale=s.grayscale,this.hueRotate=s.hueRotate,this._apply())}reset(){this.applyPreset("reset")}getState(){return{brightness:this.brightness,contrast:this.contrast,saturation:this.saturation,sepia:this.sepia,grayscale:this.grayscale,hueRotate:this.hueRotate}}setState(t){t&&(this.brightness=t.brightness??100,this.contrast=t.contrast??100,this.saturation=t.saturation??100,this.sepia=t.sepia??0,this.grayscale=t.grayscale??0,this.hueRotate=t.hueRotate??0,this._apply())}isActive(){return 100!==this.brightness||100!==this.contrast||100!==this.saturation||0!==this.sepia||0!==this.grayscale||0!==this.hueRotate}_apply(){if(!this.canvas)return;const t=[];100!==this.brightness&&t.push(`brightness(${this.brightness/100})`),100!==this.contrast&&t.push(`contrast(${this.contrast/100})`),100!==this.saturation&&t.push(`saturate(${this.saturation/100})`),this.sepia>0&&t.push(`sepia(${this.sepia/100})`),this.grayscale>0&&t.push(`grayscale(${this.grayscale/100})`),0!==this.hueRotate&&t.push(`hue-rotate(${this.hueRotate}deg)`),this.canvas.style.filter=t.length>0?t.join(" "):"none"}}