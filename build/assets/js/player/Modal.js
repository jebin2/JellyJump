export class Modal{constructor(t={}){this.options=t,this.overlay=null,this.modal=null,this.header=null,this.title=null,this.closeBtn=null,this.body=null,this.footer=null,this._init()}_init(){const t=document.getElementById("modal-shell-template");if(!t)return void console.error("Modal shell template not found");const e=t.content.cloneNode(!0);this.overlay=e.querySelector(".mb-modal-overlay"),this.modal=e.querySelector(".mb-modal"),this.header=e.querySelector(".mb-modal-header"),this.title=e.querySelector(".mb-modal-title"),this.closeBtn=e.querySelector(".mb-modal-close"),this.body=e.querySelector(".mb-modal-body"),this.footer=e.querySelector(".mb-modal-footer"),this.options.maxWidth&&(this.modal.style.maxWidth=this.options.maxWidth),this.closeBtn.addEventListener("click",()=>this.close()),this.overlay.addEventListener("click",t=>{t.target===this.overlay&&this.close()})}setTitle(t){this.title&&(this.title.textContent=t)}setBody(t){this.body&&(this.body.innerHTML="","string"==typeof t?this.body.innerHTML=t:this.body.appendChild(t))}setFooter(t){this.footer&&(this.footer.innerHTML="",t?(this.footer.classList.remove("hidden"),"string"==typeof t?this.footer.innerHTML=t:this.footer.appendChild(t)):this.footer.classList.add("hidden"))}open(){this.overlay&&document.body.appendChild(this.overlay)}close(){this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.options.onClose&&this.options.onClose()}querySelector(t){return this.overlay?this.overlay.querySelector(t):null}querySelectorAll(t){return this.overlay?this.overlay.querySelectorAll(t):[]}}